(this.webpackJsonppushnotification=this.webpackJsonppushnotification||[]).push([[0],{20:function(e,t,n){e.exports=n(39)},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),c=n(18),r=n.n(c),i=n(12),s=n(2),u=n(9),l=n(13),m=n.n(l),p=n(19),f=n(14),d=f.initializeApp({apiKey:"AIzaSyAPFPVbe_p-7o4ODzpGVIEOB5St-7PxbsA",authDomain:"quiz-tst.firebaseapp.com",databaseURL:"https://quiz-tst.firebaseio.com",projectId:"quiz-tst",storageBucket:"quiz-tst.appspot.com",messagingSenderId:"463133685025",appId:"1:463133685025:web:8fa031aeeae54688767a60",measurementId:"G-XVTSCFJ50E"}),g=f.database(),b=d.messaging();function h(){return(h=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.requestPermission().then((function(){v()})).catch((function(e){console.error("Unable to get permission to notify.",e),alert("Your Notifications Are Disabled")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){b.requestPermission().then((function(){return b.getToken()})).then((function(t){g.ref("/fcmToken").child(e).set({user:e,token:t}),console.log("Token : ",t)})).catch((function(e){!function(){h.apply(this,arguments)}(),console.log(e)}))},E=Object(a.memo)((function(e){var t=Object(a.useState)(String),n=Object(u.a)(t,2),c=n[0],r=n[1],i=Object(s.g)();return o.a.createElement("div",{className:"signUp-container"},o.a.createElement("input",{className:"signup-input",type:"text",value:c,autoFocus:!0,onChange:function(e){return r(e.target.value)}}),c.length>3&&o.a.createElement("button",{onClick:function(){v(c),i("/NotficationSender")}},"Add me"))})),O=Object(a.memo)((function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(u.a)(r,2),s=i[0],l=i[1],m=Object(a.useState)(""),p=Object(u.a)(m,2),f=p[0],d=p[1],b=Object(a.useState)(""),h=Object(u.a)(b,2),v=h[0],E=h[1];return Object(a.useEffect)((function(){var e;e=c,g.ref("fcmToken").on("value",(function(t){var n=t.val();e(Object.values(n)||[])}))}),[]),o.a.createElement("div",{className:"no-sender"},o.a.createElement("div",{className:"no-sender-sub"},o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"dropbtn"},s?s.user:"No User Selected"),o.a.createElement("div",{className:"dropdown-content"},n.map((function(e,t){return o.a.createElement("a",{onClick:function(){return l(e)},key:t}," ",e.user," ")})))),o.a.createElement("input",{className:"title-input",type:"text",onChange:function(e){return d(e.target.value)},value:f,placeholder:"title"}),o.a.createElement("textarea",{className:"message-input",onChange:function(e){return E(e.target.value)},value:v,placeholder:"message"}),o.a.createElement("button",{onClick:function(){return e={title:f,message:v},t=s.token,console.log("payload",e,"token",t),void fetch("http://localhost:8000/".concat(t,"/send/notification"),{method:"POST",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({payload:e})}).then((function(e){return e})).catch((function(e){return e}));var e,t}}," ","Send")))})),j=function(){return b.onMessage((function(e){console.log("Message received. ",e)})),o.a.createElement(i.a,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",element:o.a.createElement(E,null)}),o.a.createElement(s.a,{path:"/NotficationSender",element:o.a.createElement(O,null)})))};n(38);r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root")),function(){var e="".concat("","/swconfig.js");"serviceWorker"in navigator&&navigator.serviceWorker.register(e).then((function(e){console.log(navigator.serviceWorker,"service worker registration",e)}))}()}},[[20,1,2]]]);
//# sourceMappingURL=main.6d9edb3c.chunk.js.map